<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Batch 說明頁</title>
  </head>
  <body>
    <h1><span style="color: red;">Batch 批次檔技巧<br>
      </span></h1>
    <p>記錄一些常用的技巧</p>
    <h1>取得目前路徑</h1>
    <p>%cd% 為目前的目錄路徑</p>
    <p>使用上一般會搭配變數儲存目前的路徑內容</p>
    <p>set @src=%cd%</p>
    <h1>變數組合</h1>
    <p>承上列說明 %cd% 是取得目前的路徑</p>
    <p>而左邊 @src 就是變數</p>
    <p>@ 是前綴符號代表變數符號</p>
    <p>後面接的 src 是變數名稱</p>
    <p>可以依據你得喜好命名</p>
    <p>例如：src1、src2、src3 等等</p>
    <p><b>變數取代參數如下:</b></p>
    <p>del <span style="color: red;">%</span><span style="color: #009900;">@src</span><span
        style="color: red;">%</span>\*.* /f /s /q</p>
    <p></p>
    <h1>註解</h1>
    <p>::這是註解</p>
    <p>這邊的 :: 是註解的前綴符號代表註解符號</p>
    <p>後面可以接註解內容</p>
    <p>適時的加上註解可以增加可讀性</p>
    <h1>顯示文字在螢幕上<br>
    </h1>
    <p>echo 這是要顯示在螢幕上的內容</p>
    <p>這邊的 echo 是螢幕顯示指令</p>
    <p>右邊則是你想顯示在螢幕上的字串內容</p>
    這個指令很適合拿來做 logger<br>
    <h1>結束批次檔時指定回傳值<br>
    </h1>
    由於在 Visual Studio 呼叫批次檔結束後<br>
    如果回傳值不為 0<br>
    <p></p>
    <p></p>
    <p>會被當作是異常</p>
    <p>所以結束批次檔</p>
    <p>我會在結尾加上 exit 0</p>
    <p>避免異常提示</p>
    <h1>刪除目錄內的所有檔案<br>
    </h1>
    <p>del 路徑\*.* /f /s /q</p>
    <p>或</p>
    <p>del <span style="color: red;">%</span><span style="color: #009900;">@路徑變
        數</span><span style="color: red;">%</span>\*.* /f /s /q</p>
    <p>這個指令會強制刪除檔案</p>
    <p>包含子目錄</p>
    <p>而且不會詢問你</p>
    <p>可以避免打斷批次檔執行</p>
    <h1>快速複製檔案<br>
    </h1>
    <p>robocopy 可以指定多執行緒複製檔案</p>
    <p>例如:</p>
    <p>robocopy c:\xxx\ d:\zzz\ /S /MT:100</p>
    <p>複製 c:\xxx\ 到 d:\zzz\</p>
    <p>/S:複製子目錄，但是空的子目錄例外。</p>
    <p>/MT:100表示使用100個執行緒來跑</p>
    <p>等等非常多的功能可使用</p>
    <p></p>
    <p></p>
    <p><br>
    </p>
    <p><br>
    </p>
  </body>
</html>
